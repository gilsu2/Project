<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My page</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/usermypage.css">
    <script src="/js/logout.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
<header>
    <img src="/img/logo1.gif" alt="logo">
    <div class="inner">
        <h1><a href="index.html">DW 자동차 운전면허 학원</a></h1>
        <ul class="util">
            <li><a href="login.html" id="loginLink">로그인</a></li>
            <li><a href="#" id="logoutLink" style="display: none;" onclick="logout();">로그아웃</a></li>
            <li><a href="register.html">회원가입</a></li>
            <li><a href="cart.html">장바구니</a></li>
        </ul>
        <ul class="menu">
            <li><a href="index.html">HOME</a></li>
            <li><a href="usermypage.html">MYPAGE</a></li>
            <li><a href="QNA.html">Q&A</a></li>
            <li><a href="notice.html">NOTICE</a></li>
            <li><a href="introduction.html">INTRODUCTION</a></li>
        </ul>
    </div>
</header>
<section>
    <div class="title">
        <h1>마이 페이지</h1>
    </div>
    <div class="box">
        <h2>내 정보</h2>
        <div class="info">
            <ul>
                <li><strong>ID:</strong> <span id="username"></span><span class="point" id="points"></span></li>
                <li><strong>비밀번호:</strong> ******
                    <button class="btn"><a href="password.html" style="color:#333">비밀번호 변경</a></button>
                </li>
                <li><strong>이름:</strong> <span id="realName"></span></li>
                <li><strong>성별:</strong><span id="gender"></span></li>
                <li><strong>E-mail:</strong> <span id="email"></span></li>

                <li><strong>생년월일:</strong> <span id="birthdate"></span></li>
                <li><strong>가입일:</strong> <span id="createdAt"></span></li>
                <li><strong>마지막 로그인:</strong> <span id="lastLoginDate"></span></li>

            </ul>
        </div>
    </div>
    <div class="box">
        <h2>나의 강의 관리</h2>
        <div class="lesson">
            <span> 1종 보통</span>
            <button class="lesson-btn">1종보통</button>
        </div>
        <div class="lesson">
            <span> 2종 소형</span>
            <button class="lesson-btn">2종소형</button>
        </div>
    </div>
</section>
<footer>
    <div class="inner">
        <div class="upper">
            <h2>DW운전면허학원은 언제나 고객과 함께합니다.</h2>
            <ul>
                <li>CUSTOMER CENTER</li>
                <br>
                <li>1577-****</li>
            </ul>
        </div>

        <div class="under">
            <h2>DW운전면허학원</h2>
            <ul>
                <li>대표자 : 김덕배</li>
                <li>대표전화 : 010-****-****</li>
                <li>담당자 : 곽두팔</li>
                <li>담당자전화 : 010-****-***</li>
                <li>사업자등록번호 : 231-**-*****</li>
                <li>학원코드 : ****</li>
                <li>등록번호 : 0000</li>
                <li>전문학원지정번호 : ****호</li>
            </ul>
        </div>
    </div>
</footer>
<script>
    $(document).ready(function() {

    $.ajax({
        url: '/api/user/me' ,
        type: 'GET',

        success: function(response) {

            $('#username').text(response.userName);
            $('#points').text(response.point + "P");
            $('#realName').text(response.realName);
            $('#gender').text(response.gender);
            $('#email').text(response.email);

            $('#birthdate').text(response.birthdate);
            $('#createdAt').text(response.createdAt);
            $('#lastLoginDate').text(response.lastLoginDate);


        },
        error: function(error) {
            alert('사용자 정보를 가져오는 데 실패했습니다.');
        }
    });
});

</script>
</body>
</html>